<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Registro</title>
    </head>
    <body>
        <h2>Registro</h2>
        <input type="text" id="regUser" placeholder="Usuario"><br>
        <input type="password" id="regPass" placeholder="Contraseña"><br>
        <button onclick="register()">Registrar</button>


        <script>
            function register() {
                const user = document.getElementById("regUser").value;
                const pass = document.getElementById("regPass").value;

                // Comprobar campos vacíos
                if(user === "" || pass === "") {
                    alert("Rellena todos los campos");
                    return;
                }
                
                //Recuperar usuarios guardados
                let users = localStorage.getItem("users");
                users = users ? JSON.parse(users) : {};

                //Comprobar si existe el usuario
                if(users[user]){
                    alert("el usuario ya existe");
                    return;
                }

                //Guardar usuario
                users[user] = pass;
                localStorage.setItem("users", JSON.stringify(users));
                alert("se ha creado el usuario, puedes iniciar sesión");
                

            }
        </script>
    </body>
</html>